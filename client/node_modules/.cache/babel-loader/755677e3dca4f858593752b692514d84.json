{"ast":null,"code":"function generateRandomInt(min, max) {\n  const roundedMin = Math.ceil(min);\n  const roundedMax = Math.floor(max);\n  return Math.floor(Math.random() * (roundedMax - roundedMin)) + roundedMin;\n}\n\nfunction generateRandomDate(dateBoundaries) {\n  const {\n    minYear,\n    maxYear,\n    minMonth,\n    maxMonth,\n    minDay,\n    maxDay\n  } = dateBoundaries;\n  const year = generateRandomInt(minYear, maxYear);\n  const month = generateRandomInt(minMonth, maxMonth);\n  const day = generateRandomInt(minDay, maxDay);\n  return `${year}-${month < 10 ? '0' : ''}${month}-${day < 10 ? '0' : ''}${day}`;\n}\n\nfunction generateApiEndpoint() {\n  const date = generateRandomDate(DATE_BOUNDARIES);\n  const page = generateRandomInt(1, MAX_PAGE);\n  return `${ENDPOINT_PREFIX}&page=${page}&date=${date}&per_page=${QUERY_SIZE}`;\n}\n\nfunction urlFromProperties(farmId, serverId, id, secret) {\n  return `https://farm${farmId}.staticflickr.com/${serverId}/${id}_${secret}_q.jpg`;\n}\n\nasync function fetchRawImages() {\n  const response = await fetch(generateApiEndpoint());\n\n  if (response.status !== 200) {\n    throw new Error('There was a problem fetching images');\n  }\n\n  const rawJson = await response.text();\n  const imagesJson = JSON.parse(rawJson.slice(14, -1));\n  return imagesJson.photos.photo;\n}\n\nexport default async function fetchImageUrls() {\n  const rawImages = await fetchRawImages();\n  return rawImages.map(image => urlFromProperties(image.farm, image.server, image.id, image.secret));\n}","map":{"version":3,"sources":["/Users/kevincolkitt/Desktop/rb/client/src/imageUtils.js"],"names":["generateRandomInt","min","max","roundedMin","Math","ceil","roundedMax","floor","random","generateRandomDate","dateBoundaries","minYear","maxYear","minMonth","maxMonth","minDay","maxDay","year","month","day","generateApiEndpoint","date","DATE_BOUNDARIES","page","MAX_PAGE","ENDPOINT_PREFIX","QUERY_SIZE","urlFromProperties","farmId","serverId","id","secret","fetchRawImages","response","fetch","status","Error","rawJson","text","imagesJson","JSON","parse","slice","photos","photo","fetchImageUrls","rawImages","map","image","farm","server"],"mappings":"AACA,SAASA,iBAAT,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqC;AACnC,QAAMC,UAAU,GAAGC,IAAI,CAACC,IAAL,CAAUJ,GAAV,CAAnB;AACA,QAAMK,UAAU,GAAGF,IAAI,CAACG,KAAL,CAAWL,GAAX,CAAnB;AACA,SAAOE,IAAI,CAACG,KAAL,CAAWH,IAAI,CAACI,MAAL,MAAiBF,UAAU,GAAGH,UAA9B,CAAX,IAAwDA,UAA/D;AACD;;AAED,SAASM,kBAAT,CAA4BC,cAA5B,EAA4C;AAC1C,QAAM;AACJC,IAAAA,OADI;AACKC,IAAAA,OADL;AACcC,IAAAA,QADd;AACwBC,IAAAA,QADxB;AACkCC,IAAAA,MADlC;AAC0CC,IAAAA;AAD1C,MAEFN,cAFJ;AAIA,QAAMO,IAAI,GAAGjB,iBAAiB,CAACW,OAAD,EAAUC,OAAV,CAA9B;AACA,QAAMM,KAAK,GAAGlB,iBAAiB,CAACa,QAAD,EAAWC,QAAX,CAA/B;AACA,QAAMK,GAAG,GAAGnB,iBAAiB,CAACe,MAAD,EAASC,MAAT,CAA7B;AAEA,SAAQ,GAAEC,IAAK,IAAGC,KAAK,GAAG,EAAR,GAAa,GAAb,GAAmB,EAAG,GAAEA,KAAM,IAAGC,GAAG,GAAG,EAAN,GAAW,GAAX,GAAiB,EAAG,GAAEA,GAAI,EAA7E;AACD;;AAED,SAASC,mBAAT,GAA+B;AAC7B,QAAMC,IAAI,GAAGZ,kBAAkB,CAACa,eAAD,CAA/B;AACA,QAAMC,IAAI,GAAGvB,iBAAiB,CAAC,CAAD,EAAIwB,QAAJ,CAA9B;AAEA,SAAQ,GAAEC,eAAgB,SAAQF,IAAK,SAAQF,IAAK,aAAYK,UAAW,EAA3E;AACD;;AAED,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,QAAnC,EAA6CC,EAA7C,EAAiDC,MAAjD,EAAyD;AACvD,SAAQ,eAAcH,MAAO,qBAAoBC,QAAS,IAAGC,EAAG,IAAGC,MAAO,QAA1E;AACD;;AAED,eAAeC,cAAf,GAAgC;AAC9B,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACd,mBAAmB,EAApB,CAA5B;;AAEA,MAAIa,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAM,IAAIC,KAAJ,CAAU,qCAAV,CAAN;AACD;;AAED,QAAMC,OAAO,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAtB;AAEA,QAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWJ,OAAO,CAACK,KAAR,CAAc,EAAd,EAAkB,CAAC,CAAnB,CAAX,CAAnB;AAEA,SAAOH,UAAU,CAACI,MAAX,CAAkBC,KAAzB;AACD;;AAED,eAAe,eAAeC,cAAf,GAAgC;AAC7C,QAAMC,SAAS,GAAG,MAAMd,cAAc,EAAtC;AAEA,SAAOc,SAAS,CAACC,GAAV,CAAeC,KAAD,IAAWrB,iBAAiB,CAC/CqB,KAAK,CAACC,IADyC,EACnCD,KAAK,CAACE,MAD6B,EACrBF,KAAK,CAAClB,EADe,EACXkB,KAAK,CAACjB,MADK,CAA1C,CAAP;AAGD","sourcesContent":["\nfunction generateRandomInt(min, max) {\n  const roundedMin = Math.ceil(min);\n  const roundedMax = Math.floor(max);\n  return Math.floor(Math.random() * (roundedMax - roundedMin)) + roundedMin;\n}\n\nfunction generateRandomDate(dateBoundaries) {\n  const {\n    minYear, maxYear, minMonth, maxMonth, minDay, maxDay,\n  } = dateBoundaries;\n\n  const year = generateRandomInt(minYear, maxYear);\n  const month = generateRandomInt(minMonth, maxMonth);\n  const day = generateRandomInt(minDay, maxDay);\n\n  return `${year}-${month < 10 ? '0' : ''}${month}-${day < 10 ? '0' : ''}${day}`;\n}\n\nfunction generateApiEndpoint() {\n  const date = generateRandomDate(DATE_BOUNDARIES);\n  const page = generateRandomInt(1, MAX_PAGE);\n\n  return `${ENDPOINT_PREFIX}&page=${page}&date=${date}&per_page=${QUERY_SIZE}`;\n}\n\nfunction urlFromProperties(farmId, serverId, id, secret) {\n  return `https://farm${farmId}.staticflickr.com/${serverId}/${id}_${secret}_q.jpg`;\n}\n\nasync function fetchRawImages() {\n  const response = await fetch(generateApiEndpoint());\n\n  if (response.status !== 200) {\n    throw new Error('There was a problem fetching images');\n  }\n\n  const rawJson = await response.text();\n\n  const imagesJson = JSON.parse(rawJson.slice(14, -1));\n\n  return imagesJson.photos.photo;\n}\n\nexport default async function fetchImageUrls() {\n  const rawImages = await fetchRawImages();\n\n  return rawImages.map((image) => urlFromProperties(\n    image.farm, image.server, image.id, image.secret,\n  ));\n}\n"]},"metadata":{},"sourceType":"module"}