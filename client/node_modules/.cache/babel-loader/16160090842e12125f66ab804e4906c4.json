{"ast":null,"code":"const API_KEY = 'b41ebc557f327c6c95cd8ab3ce1b25f6';\nexport async function fetchImageUrls() {\n  const rawImages = await fetchRawImages();\n  return rawImages.map(image => urlFromProperties(image.farm, image.server, image.id, image.secret));\n}\n\nasync function fetchRawImages() {\n  const response = await fetch(generateApiEndpoint(50)); //Bad response status\n\n  const rawJson = await response.text();\n  const imagesJson = JSON.parse(rawJson.slice(14, -1));\n  return imagesJson.photos.photo;\n}\n\nfunction urlFromProperties(farmId, serverId, id, secret) {\n  return `https://farm${farmId}.staticflickr.com/${serverId}/${id}_${secret}_q.jpg`;\n}\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction generateApiEndpoint(perPage) {\n  const minLong = getRandomInt(-180, 180);\n  const maxLong = getRandomInt(minLong, 180);\n  const minLat = getRandomInt(-90, 90);\n  const maxLat = getRandomInt(minLat, 90);\n  console.log(minLong);\n  console.log(maxLong);\n  console.log(minLat);\n  console.log(maxLat);\n  return `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${API_KEY}&format=json&safe_search=3&page=15&sort=relevance&per_page=${perPage}&bbox=${minLong},${minLat},${maxLong},${maxLat}`;\n}","map":{"version":3,"sources":["/Users/kevincolkitt/Desktop/rb/client/src/imageUtils.js"],"names":["API_KEY","fetchImageUrls","rawImages","fetchRawImages","map","image","urlFromProperties","farm","server","id","secret","response","fetch","generateApiEndpoint","rawJson","text","imagesJson","JSON","parse","slice","photos","photo","farmId","serverId","getRandomInt","min","max","Math","ceil","floor","random","perPage","minLong","maxLong","minLat","maxLat","console","log"],"mappings":"AAAA,MAAMA,OAAO,GAAG,kCAAhB;AAEA,OAAO,eAAeC,cAAf,GAAgC;AAEnC,QAAMC,SAAS,GAAG,MAAMC,cAAc,EAAtC;AAEA,SAAOD,SAAS,CAACE,GAAV,CAAcC,KAAK,IAAIC,iBAAiB,CAACD,KAAK,CAACE,IAAP,EAAaF,KAAK,CAACG,MAAnB,EAA2BH,KAAK,CAACI,EAAjC,EAAqCJ,KAAK,CAACK,MAA3C,CAAxC,CAAP;AACH;;AAED,eAAeP,cAAf,GAAgC;AAC5B,QAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAACC,mBAAmB,CAAC,EAAD,CAApB,CAA5B,CAD4B,CAG5B;;AACA,QAAMC,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAtB;AAEA,QAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWJ,OAAO,CAACK,KAAR,CAAc,EAAd,EAAkB,CAAC,CAAnB,CAAX,CAAnB;AAEA,SAAOH,UAAU,CAACI,MAAX,CAAkBC,KAAzB;AACH;;AAGD,SAASf,iBAAT,CAA2BgB,MAA3B,EAAmCC,QAAnC,EAA6Cd,EAA7C,EAAiDC,MAAjD,EAAyD;AACrD,SAAQ,eAAcY,MAAO,qBAAoBC,QAAS,IAAGd,EAAG,IAAGC,MAAO,QAA1E;AACH;;AAGD,SAASc,YAAT,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC5BD,EAAAA,GAAG,GAAGE,IAAI,CAACC,IAAL,CAAUH,GAAV,CAAN;AACAC,EAAAA,GAAG,GAAGC,IAAI,CAACE,KAAL,CAAWH,GAAX,CAAN;AACA,SAAOC,IAAI,CAACE,KAAL,CAAWF,IAAI,CAACG,MAAL,MAAiBJ,GAAG,GAAGD,GAAvB,CAAX,IAA0CA,GAAjD;AACH;;AAED,SAASZ,mBAAT,CAA6BkB,OAA7B,EAAsC;AAClC,QAAMC,OAAO,GAAGR,YAAY,CAAC,CAAC,GAAF,EAAO,GAAP,CAA5B;AACA,QAAMS,OAAO,GAAGT,YAAY,CAACQ,OAAD,EAAU,GAAV,CAA5B;AACA,QAAME,MAAM,GAAGV,YAAY,CAAC,CAAC,EAAF,EAAM,EAAN,CAA3B;AACA,QAAMW,MAAM,GAAGX,YAAY,CAACU,MAAD,EAAS,EAAT,CAA3B;AAEAE,EAAAA,OAAO,CAACC,GAAR,CAAYL,OAAZ;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,SAAQ,6EAA4EnC,OAAQ,8DAA6D+B,OAAQ,SAAQC,OAAQ,IAAGE,MAAO,IAAGD,OAAQ,IAAGE,MAAO,EAAhN;AACH","sourcesContent":["const API_KEY = 'b41ebc557f327c6c95cd8ab3ce1b25f6'\n\nexport async function fetchImageUrls() {\n\n    const rawImages = await fetchRawImages()\n\n    return rawImages.map(image => urlFromProperties(image.farm, image.server, image.id, image.secret))\n}\n\nasync function fetchRawImages() {\n    const response = await fetch(generateApiEndpoint(50))\n\n    //Bad response status\n    const rawJson = await response.text()\n\n    const imagesJson = JSON.parse(rawJson.slice(14, -1))\n\n    return imagesJson.photos.photo;\n}\n\n\nfunction urlFromProperties(farmId, serverId, id, secret) {\n    return `https://farm${farmId}.staticflickr.com/${serverId}/${id}_${secret}_q.jpg`\n}\n\n\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction generateApiEndpoint(perPage) {\n    const minLong = getRandomInt(-180, 180);\n    const maxLong = getRandomInt(minLong, 180);\n    const minLat = getRandomInt(-90, 90);\n    const maxLat = getRandomInt(minLat, 90);\n\n    console.log(minLong)\n    console.log(maxLong)\n    console.log(minLat)\n    console.log(maxLat)\n    return `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${API_KEY}&format=json&safe_search=3&page=15&sort=relevance&per_page=${perPage}&bbox=${minLong},${minLat},${maxLong},${maxLat}`\n}\n"]},"metadata":{},"sourceType":"module"}